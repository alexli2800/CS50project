{% extends "layout.html" %}

{% block title %}
    Lunch
{% endblock %}

{% block main %}

<div class="wrapper">
    <!-- Header of page -->
    <h1 style="color: white; font-family: Oswald;" id="contact">Lunch Menu</h1>

        <h2 id="content" style="color: white; font-family: Oswald;">Entrees</h2>
        <ul style="color: white; font-family: Oswald;">
            {% for row in lunch_entree %}
                <li>{{ row.recipe_name }}</li>
            {% endfor %}
        </ul>

        <h2 id="content" style="color: white; font-family: Oswald;">Vegetables</h2>
        <ul style="color: white; font-family: Oswald;">
            {% for row in lunch_vegetables %}
                <li>{{ row.recipe_name }}</li>
            {% endfor %}
        </ul>

        <h2 id="content" style="color: white; font-family: Oswald;">Starch and Potatoes</h2>
        <ul style="color: white; font-family: Oswald;">
            {% for row in lunch_starch %}
                <li>{{ row.recipe_name }}</li>
            {% endfor %}
        </ul>

        <h2 id="content" style="color: white; font-family: Oswald;">Veg/Vegan</h2>
        <ul style="color: white; font-family: Oswald;">
            {% for row in lunch_vegan %}
                <li>{{ row.recipe_name }}</li>
            {% endfor %}
        </ul>

        <h2 id="content" style="color: white; font-family: Oswald;">Halal</h2>
        <ul style="color: white; font-family: Oswald;">
            {% for row in lunch_halal %}
                <li>{{ row.recipe_name }}</li>
            {% endfor %}
        </ul>

        <div class="rating">
            <form action="#" method="post" onsubmit="redirectToHome()">

                <div class="rating">
                    <div class="star" onclick="setRating(5)" onmouseover="hoverRating(5)" onmouseout="clearHover()"></div>
                    <div class="star" onclick="setRating(4)" onmouseover="hoverRating(4)" onmouseout="clearHover()"></div>
                    <div class="star" onclick="setRating(3)" onmouseover="hoverRating(3)" onmouseout="clearHover()"></div>
                    <div class="star" onclick="setRating(2)" onmouseover="hoverRating(2)" onmouseout="clearHover()"></div>
                    <div class="star" onclick="setRating(1)" onmouseover="hoverRating(1)" onmouseout="clearHover()"></div>
                </div>

                <p id="selectedRating">Selected Rating: 0</p>

                <script>
                    let selectedRating = 0;

                    function setRating(rating) {
                        selectedRating = rating;
                        updateStars(); // Call function to update stars visually
                        document.getElementById('selectedRating').innerText = `Selected Rating: ${rating} stars`;
                    }

                    function hoverRating(rating) {
                        document.getElementById('selectedRating').innerText = `Hovering over: ${rating} stars`;
                        highlightStars(rating); // Call function to highlight stars visually
                    }

                    function clearHover() {
                        if (selectedRating === 0) {
                            document.getElementById('selectedRating').innerText = `Selected Rating: 0`;
                            clearStars(); // Call function to clear stars visually
                        }
                    }

                    function updateStars() {
                        // Update stars based on the selected rating
                        for (let i = 1; i <= 5; i++) {
                            const star = document.querySelector(`.star:nth-child(${i})`);
                            if (i <= selectedRating) {
                                star.classList.add('selected');
                            } else {
                                star.classList.remove('selected');
                            }
                        }
                    }

                    function highlightStars(rating) {
                        // Highlight stars based on the hovered rating
                        for (let i = 1; i <= 5; i++) {
                            const star = document.querySelector(`.star:nth-child(${i})`);
                            if (i <= rating) {
                                star.classList.add('hovered');
                            } else {
                                star.classList.remove('hovered');
                            }
                        }
                    }

                    function clearStars() {
                        // Clear all star highlights
                        const stars = document.querySelectorAll('.star');
                        stars.forEach(star => star.classList.remove('hovered'));
                    }
                </script>

        <textarea id="review1" name="review1"></textarea>
            <button type="submit" class="custom-button btn btn-primary">Submit</button>
        </form>
        </div>

    </div>
{% endblock %}
